---
import Bluesky from '@/components/bluesky.astro'
import DarkToggle from '@/components/dark-toggle.astro'
import Github from '@/components/github.astro'
import Twitter from '@/components/twitter.astro'

interface Props {
  overlay?: boolean
}

const { overlay = false } = Astro.props

const navTextClass = 'no-underline text-muted-foreground hover:text-foreground transition-colors'
---

<header
  transition:name="site-header"
  transition:persist
  data-site-header
  class:list={[
    'p-6 bg-transparent flex w-full items-center justify-between z-100',
    overlay && 'fixed top-0 left-0 pointer-events-auto',
  ]}
>
  <a
    href="/"
    data-nav-link
    class="text-xl text-foreground font-mono font-semibold"
  >
    octohash
  </a>

  <nav class="flex gap-4 items-center">
    <a
      href="/"
      data-nav-link
      class:list={[navTextClass, 'relative hidden text-sm sm:inline']}
    >
      About
    </a>

    <a
      href="/posts"
      data-nav-link
      class:list={[navTextClass, 'relative sm:hidden']}
    >
      <div class="i-ri:article-line hover:i-ri:article-fill cursor-pointer transition-all" />
    </a>
    <a
      href="/posts"
      data-nav-link
      class:list={[navTextClass, 'relative hidden text-sm sm:inline']}
    >
      Posts
    </a>

    <a
      href="/projects"
      data-nav-link
      class:list={[navTextClass, 'relative sm:hidden']}
    >
      <div class="i-ri:lightbulb-line hover:i-ri:lightbulb-fill cursor-pointer transition-all" />
    </a>
    <a
      href="/projects"
      data-nav-link
      class:list={[navTextClass, 'relative hidden text-sm sm:inline']}
    >
      Projects
    </a>

    <Github class={navTextClass} />
    <Twitter class={navTextClass} />
    <Bluesky class={navTextClass} />
    <DarkToggle class={navTextClass} />
  </nav>
</header>

<script>
import { useSiteHeader } from '@/composables/use-site-header'

useSiteHeader(document.querySelector<HTMLElement>('[data-site-header]'))
</script>
